(this["webpackJsonpcv-maker"]=this["webpackJsonpcv-maker"]||[]).push([[0],{458:function(e,t){},460:function(e,t){},489:function(e,t){},490:function(e,t){},603:function(e,t){},605:function(e,t){},633:function(e,t){},635:function(e,t){},636:function(e,t){},641:function(e,t){},643:function(e,t){},649:function(e,t){},651:function(e,t){},670:function(e,t){},682:function(e,t){},685:function(e,t){},886:function(e,t,a){"use strict";a.r(t);var i=a(1),r=a.n(i),n=a(25),c=a.n(n),l=a(21),o=a(11),d={block:{variant:"outlined"},field:{fullWidth:{span:{xs:12}},halfWidth:{span:{xs:12,sm:6}}}},s=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,u=function(e){return function(t){return t.length>e?"Must be less than ".concat(e," characters"):""}},j={personal:{displayName:"Personal Information",muiStyle:Object(o.a)({},d.block),fields:{firstName:{type:"text",displayName:"First name",required:!0,autocomplete:!0,muiStyle:Object(o.a)({},d.field.halfWidth)},lastName:{type:"text",displayName:"Last name",required:!0,autocomplete:!0,muiStyle:Object(o.a)({},d.field.halfWidth)},title:{type:"text",displayName:"Title",autocomplete:!0,muiStyle:Object(o.a)({},d.field.halfWidth)},email:{type:"email",displayName:"Email",required:!0,autocomplete:!0,muiStyle:Object(o.a)({},d.field.halfWidth),validate:function(e){return s.test(e)?"":"Invalid email address"}},phone:{type:"phone",displayName:"Phone number",muiStyle:Object(o.a)({},d.field.halfWidth)},address:{type:"text",displayName:"Address",autocomplete:!0,muiStyle:Object(o.a)({},d.field.fullWidth)},details:{type:"multiline",displayName:"Profile",placeholder:"About yourself",muiStyle:Object(o.a)(Object(o.a)({},d.field.fullWidth),{},{rows:5}),validate:u(500)},skills:{type:"multiline",displayName:"Skills",helperText:"Separate different skills with comma",muiStyle:Object(o.a)(Object(o.a)({},d.field.fullWidth),{},{rows:3}),validate:function(e){var t=u(50);return e.split(",").some((function(e){return t(e.trim())}))?"Individual skill must be less than 50 characters":""}}}},experience:{displayName:"Experience",muiStyle:Object(o.a)({},d.block),multiple:!0,fields:{position:{type:"text",displayName:"Position",required:!0,autocomplete:!0,muiStyle:Object(o.a)({},d.field.halfWidth)},company:{type:"text",displayName:"Company",required:!0,autocomplete:!0,muiStyle:Object(o.a)({},d.field.halfWidth)},description:{type:"multiline",displayName:"Job description",muiStyle:Object(o.a)(Object(o.a)({},d.field.fullWidth),{},{rows:5}),validate:u(500)},startDate:{type:"date",displayName:"From",muiStyle:Object(o.a)({},d.field.halfWidth)},endDate:{type:"date",displayName:"To",helperText:"Leave this out if still working at present",muiStyle:Object(o.a)({},d.field.halfWidth)}}},education:{displayName:"Education",muiStyle:Object(o.a)({},d.block),multiple:!0,defaultGroups:0,fields:{school:{type:"text",displayName:"School",required:!0,autocomplete:!0,muiStyle:Object(o.a)({},d.field.fullWidth)},degree:{type:"text",displayName:"Degree",autocomplete:!0,muiStyle:Object(o.a)({},d.field.fullWidth)},startDate:{type:"date",displayName:"From",muiStyle:Object(o.a)({},d.field.halfWidth)},endDate:{type:"date",displayName:"To",muiStyle:Object(o.a)({},d.field.halfWidth)}}},training:{displayName:"Training / Certifications",muiStyle:{variant:"outlined"},multiple:!0,defaultGroups:0,fields:{name:{type:"text",displayName:"Name",placeholder:"Training / Certificate",required:!0,autocomplete:!0,muiStyle:Object(o.a)({},d.field.fullWidth)},startDate:{type:"date",displayName:"From",muiStyle:Object(o.a)({},d.field.halfWidth)},endDate:{type:"date",displayName:"To",muiStyle:Object(o.a)({},d.field.halfWidth)}}}},b=a(929),f=a(924),p=a(413),m=a(918),O=a(927),h=a(925),x=a(923),y=a(915),v=a(430),g=a(920),w=a(28),S=a(6),k=w.StyleSheet.create({title:{fontSize:18,fontWeight:900,textTransform:"uppercase",marginBottom:7},subtitle:{fontSize:13,fontWeight:500,textTransform:"uppercase",marginBottom:3},text:{fontSize:11},section:{paddingBottom:10}}),N=a(7),D=["color","width","stroke","strokeStyle","mt","mb"],W=["children","wrap","fixed"],T=["children"],E=["children"],C=["children","wrap","fixed"],P=["children","wrap","fixed"],M=["children","wrap","fixed"],V=function(e){var t=e.color,a=e.width,i=e.stroke,r=e.strokeStyle,n=e.mt,c=e.mb,l=Object(S.a)(e,D),o=w.StyleSheet.create({width:a,borderBottom:"".concat(i," ").concat(r," ").concat(t),marginTop:n,marginBottom:c});return Object(N.jsx)(w.View,{style:[o,l]})},q=function(e){var t=e.children,a=e.wrap,i=e.fixed,r=Object(S.a)(e,W);return Object(N.jsx)(w.View,{style:r,wrap:a,fixed:i,children:t})},z=function(e){var t=e.children,a=Object(S.a)(e,T);return Object(N.jsx)(w.Text,{style:a,children:t})},A=function(e){var t=e.children,a=Object(S.a)(e,E);return Object(N.jsx)(q,Object(o.a)(Object(o.a)(Object(o.a)({},k.section),a),{},{children:t}))},I=function(e){var t=e.children,a=e.wrap,i=e.fixed,r=Object(S.a)(e,C);return Object(N.jsx)(z,Object(o.a)(Object(o.a)(Object(o.a)({wrap:a,fixed:i},k.title),r),{},{children:t}))},B=function(e){var t=e.children,a=e.wrap,i=e.fixed,r=Object(S.a)(e,P);return Object(N.jsx)(z,Object(o.a)(Object(o.a)(Object(o.a)({wrap:a,fixed:i},k.subtitle),r),{},{children:t}))},F=function(e){var t=e.children,a=e.wrap,i=e.fixed,r=Object(S.a)(e,M);return Object(N.jsx)(z,Object(o.a)(Object(o.a)(Object(o.a)({wrap:a,fixed:i},k.text),r),{},{children:t}))},L={wrap:!0,fixed:!1};A.defaultProps=L,I.defaultProps=L,B.defaultProps=L,F.defaultProps=L,q.defaultProps=L,V.defaultProps={width:"100%",color:"gray",stroke:"1px",strokeStyle:"solid",mt:5,mb:5};var R=w.StyleSheet.create({fullName:{display:"flex",flexWrap:"wrap",flexDirection:"row",justifyContent:"space-between"},name:{fontSize:32,color:"black"},contactInfo:{display:"flex",flexDirection:"row",justifyContent:"space-between",paddingVertical:5,paddingHorizontal:10}}),H=function(e){var t=e.data,a=t.firstName,i=t.lastName,r=t.title,n=t.phone,c=t.email,l=t.address;return Object(N.jsxs)(w.View,{children:[Object(N.jsxs)(q,{padding:10,textTransform:"uppercase",children:[Object(N.jsxs)(z,Object(o.a)(Object(o.a)({},R.fullname),{},{children:[Object(N.jsx)(z,Object(o.a)(Object(o.a)({},R.name),{},{children:a})),Object(N.jsx)(z,Object(o.a)(Object(o.a)({},R.name),{},{color:"gray",children:" "+i}))]})),r?Object(N.jsx)(B,{children:r}):null]}),Object(N.jsx)(V,{stroke:"3px",color:"black",mt:0,mb:0}),Object(N.jsxs)(q,Object(o.a)(Object(o.a)({},R.contactInfo),{},{children:[n?Object(N.jsx)(F,{children:n}):null,c?Object(N.jsx)(F,{children:c}):null,l?Object(N.jsx)(F,{children:l}):null]})),Object(N.jsx)(V,{stroke:"1px",mt:0,mb:15})]})};function G(e){var t=e.data;return t?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(A,{children:[Object(N.jsx)(I,{children:"Profile"}),Object(N.jsx)(F,{textAlign:"justify",children:t})]}),Object(N.jsx)(V,{mt:5,mb:15,color:"gray"})]}):null}var J=w.StyleSheet.create({skills:{display:"flex",flexDirection:"row",flexWrap:"wrap"},chip:{fontSize:11,border:"1px solid gray",borderRadius:10,paddingVertical:3,paddingHorizontal:5,marginRight:3}});function Z(e){var t=e.data,a=e.withDivider;return t?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(A,{children:[Object(N.jsx)(I,{children:"Skills"}),Object(N.jsx)(q,Object(o.a)(Object(o.a)({},J.skills),{},{children:t.split(",").map((function(e,a){return Object(N.jsx)(q,Object(o.a)(Object(o.a)({},J.chip),{},{marginBottom:a+1===t.length?0:5,children:Object(N.jsx)(w.Text,{children:e.trim()})}),a)}))}))]}),a?Object(N.jsx)(V,{mt:5,mb:15,color:"gray"}):null]}):null}function _(e){var t=e.name,a=e.data,i=e.mappings,r=e.withDivider;return a.length?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(A,{children:[Object(N.jsx)(I,{children:t}),a.map((function(e,t){return Object(N.jsxs)(q,{wrap:!1,marginBottom:t+1===a.length?0:10,children:[Object(N.jsxs)(q,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[Object(N.jsx)(B,{children:e[i[0]]}),Object(N.jsxs)(F,{color:"gray",children:[e[i[1]]," -"," ",e[i[2]]||(e[i[1]]?"Present":"")]})]}),Object(N.jsx)(F,{marginBottom:5,children:e[i[3]]}),Object(N.jsx)(F,{children:e[i[4]]})]},t)}))]}),r?Object(N.jsx)(V,{mt:5,mb:15,color:"gray"}):null]}):null}var U=w.StyleSheet.create({page:{width:"100%",paddingVertical:35,paddingHorizontal:40}}),$=function(e){var t=e.data,a=[function(e){return Object(N.jsx)(_,{name:"Experience",data:t.experience,mappings:["position","startDate","endDate","company","description"],withDivider:e})},function(e){return Object(N.jsx)(_,{name:"Education",data:t.education,mappings:["school","startDate","endDate","degree"],withDivider:e})},function(e){return Object(N.jsx)(_,{name:"Training / Certifications",data:t.training,mappings:["name","startDate","endDate"],withDivider:e})},function(e){return Object(N.jsx)(Z,{data:t.personal[0].skills,withDivider:e})}];return Object(N.jsx)(w.Document,{className:"preview",children:Object(N.jsxs)(w.Page,{size:"A4",style:U.page,wrap:!0,children:[Object(N.jsx)(H,{data:t.personal[0]}),Object(N.jsx)(G,{data:t.personal[0].details}),a.map((function(e,t){return Object(N.jsx)(w.View,{children:e(t+1!==a.length)},t)}))]})})},K=a(17),Q=a(48),X=function(){return Math.random().toString(36).substr(2,5)},Y=function(e){var t={id:X(),fields:{}};return Object.entries(e).forEach((function(e){var a=Object(l.a)(e,2),i=a[0],r=a[1];t.fields[i]={value:r.defaultValue||"",error:!1,errorMsg:""}})),t},ee=a(426),te=a(185),ae=Object(i.createContext)(null),ie=function(e){var t,a=Object(i.useReducer)((t=e.schema,function(e,a){var i=a.payload,r=i.blockName,n=i.groupId,c=i.data,l=e[r];switch(a.type){case"WRITE":return c;case"ADD":return Object(o.a)(Object(o.a)({},e),{},Object(K.a)({},r,Object(o.a)(Object(o.a)({},l),{},{groups:[].concat(Object(Q.a)(l.groups),[Y(t[r].fields)])})));case"DELETE":return Object(o.a)(Object(o.a)({},e),{},Object(K.a)({},r,Object(o.a)(Object(o.a)({},l),{},{groups:l.groups.filter((function(e){return e.id!==n}))})));case"UPDATE":return Object(o.a)(Object(o.a)({},e),{},Object(K.a)({},r,Object(o.a)(Object(o.a)({},l),{},{groups:l.groups.map((function(e){return e.id===n?Object(o.a)(Object(o.a)({},e),{},{fields:c}):e}))})));default:return e}}),function(e){var t={};return Object.entries(e).forEach((function(e){var a,i=Object(l.a)(e,2),r=i[0],n=i[1];t[r]={id:X(),groups:new Array(null!==(a=n.defaultGroups)&&void 0!==a?a:1).fill().map((function(){return Y(n.fields)}))}})),t}(e.schema)),r=Object(l.a)(a,2),n=r[0],c=r[1],d=Object(i.useMemo)((function(){return{data:n,dispatch:c}}),[n,c]);return Object(N.jsx)(ae.Provider,{value:d,children:e.children})},re=function(){var e=Object(i.useContext)(ae);if(!e)throw new Error("useFormReducer must be used within a FormProvider");return e},ne=function(){var e=Object(y.a)("(min-width:500px)"),t=function(e){return Object.entries(e).reduce((function(e,t){var a=Object(l.a)(t,2),i=a[0],r=a[1];return e[i]=r.groups.map((function(e){return Object.entries(e.fields).reduce((function(e,t){var a=Object(l.a)(t,2),i=a[0],r=a[1];return e[i]=Object(ee.a)(r.value)?Object(te.a)(r.value,"MMM. d, y"):r.value.trim()||"",e}),{})})).filter((function(e){return!Object.values(e).every((function(e){return!e}))})),e}),{})}(re().data);return Object(N.jsx)(N.Fragment,{children:e?Object(N.jsx)(w.PDFViewer,{width:"100%",height:"700px",children:Object(N.jsx)($,{data:t})}):Object(N.jsx)(b.a,{p:2,mb:2,display:"flex",justifyContent:"center",children:Object(N.jsx)(p.a,{variant:"contained",color:"primary",size:"large",children:Object(N.jsx)(w.PDFDownloadLink,{document:Object(N.jsx)($,{data:t}),fileName:"cv.pdf",style:{color:"white",textDecoration:"none"},children:function(e){return e.loading?"Loading document...":"Download CV"}})})})})},ce=a(434);var le=a(415),oe=a(922),de=a(427),se=a.n(de),ue=a(926),je=function(e){var t=e.id,a=e.blockName,r=e.blockStyle,n=e.fields,c=e.data,d=e.multiple,s=e.deleteHandler,u=function(e,t){var a=Object(i.useState)(e),r=Object(l.a)(a,2),n=r[0],c=r[1],o=Object(i.useState)(n),d=Object(l.a)(o,2),s=d[0],u=d[1];return Object(i.useEffect)((function(){var e=setTimeout((function(){u(n)}),t);return function(){clearTimeout(e)}}),[n,t]),[s,n,c]}(c,300),j=Object(l.a)(u,3),f=j[0],m=j[1],O=j[2],h=re().dispatch;Object(i.useEffect)((function(){h({type:"UPDATE",payload:{blockName:a,groupId:t,data:f}})}),[f,t,a,h]),Object(i.useEffect)((function(){O(c)}),[c,O]);var x=function(e,t){var a=n[e];return a.required&&!t.trim()?"This field is required":a.validate&&a.validate(t)},y=function(e,t){var a=m[e],i=a.error,r=Object(o.a)(Object(o.a)({},a),{},{value:t});if(i){var n=x(e,t);r.error=!!n,r.errorMsg=n}O((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(K.a)({},e,r))}))},v=function(e,t){var a=x(e,t),i={value:t,error:!!a,errorMsg:a||""};O((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(K.a)({},e,i))}))},g=function(e,t,a){switch(e){case"phone":return Object(N.jsx)(se.a,Object(o.a)(Object(o.a)({},a),{},{defaultCountry:"ph",onBlur:function(e){return v(t,e.target.value)},onChange:function(e){return y(t,e)}}));case"date":return Object(N.jsx)(ue.a,Object(o.a)(Object(o.a)({},a),{},{onChange:function(e){return y(t,e)},onAccept:function(e){return v(t,e)},placeholder:"14/01/1970",format:"dd/MM/yyyy",inputVariant:"outlined",clearable:!0,disableFuture:!0}));default:return Object(N.jsx)(le.a,Object(o.a)(Object(o.a)({},a),{},{type:"multiline"===e?"text":e,onChange:function(e){return y(t,e.target.value)},onBlur:function(e){return v(t,e.target.value)}}))}},w=Object.entries(n).map((function(e){var a=Object(l.a)(e,2),i=a[0],n=a[1],c={label:n.displayName,defaultValue:n.defaultValue,value:m[i].value||("date"===n.type?null:""),error:m[i].error||!1,helperText:m[i].errorMsg||n.helperText||"",placeholder:n.placeholder||"",inputProps:{name:i},InputLabelProps:"date"===n.type?{shrink:!0}:null,variant:r.variant,rows:n.muiStyle.rows,fullWidth:n.muiStyle.fullWidth||!0,required:n.required};return"multiline"===n.type&&(c.multiline=!0),Object(N.jsx)(oe.a,Object(o.a)(Object(o.a)({item:!0},n.muiStyle.span),{},{children:g(n.type,i,c)}),t+i)}));return Object(N.jsxs)(b.a,{mb:3,children:[Object(N.jsx)(oe.a,{container:!0,spacing:2,children:w}),d&&Object(N.jsx)(b.a,{mt:2,children:Object(N.jsx)(p.a,{variant:"contained",color:"secondary",onClick:function(){return s(t)},children:"Delete"})})]})},be=function(e){var t=e.blockName,a=e.schema,i=re(),r=i.data,n=i.dispatch,c=function(e){n({type:"DELETE",payload:{blockName:t,groupId:e}})};return Object(N.jsxs)(b.a,{mb:5,children:[Object(N.jsx)(ce.a,{variant:"h4",gutterBottom:!0,children:a.displayName}),r[t].groups.map((function(e){var i=e.id,r=e.fields;return Object(N.jsx)(je,{id:i,blockName:t,blockStyle:a.muiStyle,fields:a.fields,data:r,multiple:a.multiple,deleteHandler:c},i)})),a.multiple&&Object(N.jsx)(b.a,{mt:1,children:Object(N.jsxs)(p.a,{variant:"contained",color:"primary",onClick:function(){n({type:"ADD",payload:{blockName:t}})},children:["Add ",a.displayName]})})]})},fe=function(e){var t=e.schema,a=e.onSubmit,i=re(),r=i.data,n=i.dispatch;return Object(N.jsxs)("form",{onSubmit:function(e){e.preventDefault();var i={},c=[];Object.entries(r).forEach((function(e){var a=Object(l.a)(e,2),r=a[0],n=a[1];i[r]=Object(o.a)(Object(o.a)({},n),{},{groups:n.groups.map((function(e){var a={};return Object.entries(e.fields).forEach((function(e){var i=Object(l.a)(e,2),n=i[0],d=i[1],s=t[r].fields[n],u=function(e,t){return t.required&&!e.trim()?"This field is required":t.validate&&t.validate(e)}(d.value,s);u&&c.push([s.displayName,u]),a[n]=Object(o.a)(Object(o.a)({},d),{},{errorMsg:u||"",error:!!u})})),{id:e.id,fields:a}}))})})),n({type:"WRITE",payload:{data:i}}),a(c)},noValidate:!0,children:[Object.entries(t).map((function(e){var t=Object(l.a)(e,2),a=t[0],i=t[1];return Object(N.jsx)(be,{blockName:a,schema:i},a)})),Object(N.jsx)(b.a,{display:"flex",justifyContent:"center",mb:3,children:Object(N.jsx)(p.a,{variant:"contained",color:"primary",type:"submit",children:"Submit"})})]})},pe=a(40),me=a(429),Oe=Object(v.a)({palette:{type:"dark"}}),he=Object(v.a)({palette:{type:"light"}}),xe=function(){var e=Object(y.a)("(prefers-color-scheme: dark)"),t=Object(i.useState)(!1),a=Object(l.a)(t,2),r=a[0],n=a[1],c=Object(i.useState)([]),o=Object(l.a)(c,2),d=o[0],s=o[1];return Object(N.jsxs)(g.a,{theme:e?Oe:he,children:[Object(N.jsx)(x.a,{}),Object(N.jsx)(m.a,{square:!0,elevation:3,component:"header",children:Object(N.jsx)(b.a,{height:"4rem",width:"90%",mb:3,mx:"auto",display:"flex",alignItems:"center",justifyContent:"space-between",children:Object(N.jsx)("h1",{className:"header__title",children:"CV Maker"})})}),Object(N.jsxs)(f.a,{maxWidth:"md",children:[Object(N.jsx)(b.a,{mb:3,children:0!==d.length&&Object(N.jsxs)(O.a,{severity:"error",style:{width:"100%"},children:[Object(N.jsx)(h.a,{children:"Error"}),Object(N.jsx)("ul",{style:{margin:0,padding:0},children:d.map((function(e,t){return Object(N.jsx)("li",{children:e},t)}))})]})}),Object(N.jsx)(pe.a,{utils:me.a,children:Object(N.jsx)(ie,{schema:j,children:r?Object(N.jsxs)(b.a,{mt:3,children:[Object(N.jsx)(b.a,{p:2,mb:2,display:"flex",justifyContent:"center",children:Object(N.jsx)(p.a,{variant:"contained",color:"primary",size:"large",onClick:function(){return n(!1)},children:"Go Back to Editing"})}),Object(N.jsx)(ne,{})]}):Object(N.jsx)(fe,{schema:j,onSubmit:function(e){e.length?(s(e.map((function(e){return e.join(": ")}))),window.scrollTo(0,0)):(s([]),n(!0))}})})})]})]})};c.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(xe,{})}),document.getElementById("root"))}},[[886,1,2]]]);
//# sourceMappingURL=main.e828eb07.chunk.js.map